<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prevenção de Cancro de Pele</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="manifest" href="/static/manifest.json">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body class="bg-light">
    <div class="container d-flex flex-column align-items-center min-vh-100">
        <h1 class="my-4 text-primary" style="font-size: 2.5rem;">Prevenção de Cancro de Pele</h1>
        <h3 id="location-label" class="text-secondary mb-3" style="font-size: 1.5rem;">A detetar a sua localização...</h3>
        <p id="instruction-label" class="text-primary mb-3" style="font-size: 1.5rem;">Passo 1: Carregue ou capture uma foto da sua mão</p>
        <input type="file" id="photo-upload" class="form-control mb-3" accept=".jpg,.png" style="font-size: 1.25rem; max-width: 400px;">
        <button id="upload-button" class="btn btn-primary mb-3" style="font-size: 1.25rem; padding: 10px 20px;">Carregar Foto da Mão</button>
        <button id="camera-button" class="btn btn-primary mb-3" style="font-size: 1.25rem; padding: 10px 20px;">Tirar Foto</button>
        <video id="camera-feed" class="mb-3 d-none" style="max-width: 400px; width: 100%;" autoplay></video>
        <button id="capture-button" class="btn btn-primary mb-3 d-none" style="font-size: 1.25rem; padding: 10px 20px;">Capturar Foto</button>
        <button id="analyze-button" class="btn btn-success mb-3" style="font-size: 1.25rem; padding: 10px 20px;" disabled>Analisar e Obter Dicas</button>
        <div id="spinner" class="spinner-border text-primary d-none" role="status" style="width: 2.5rem; height: 2.5rem;">
            <span class="visually-hidden">A analisar...</span>
        </div>
        <div id="result-card" class="card shadow-sm mb-3" style="max-width: 400px; background-color: #F5F5F5; border: 2px solid #0080FF;">
            <div class="card-body">
                <p id="result-label" class="card-text text-primary" style="font-size: 1.25rem;">Os resultados aparecerão aqui.</p>
            </div>
        </div>
        <p id="status-label" class="text-secondary" style="font-size: 1rem;">{{ status_message }}</p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/static/js/scripts.js"></script>
    <script>
        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("/static/js/service-worker.js");
        }
    </script>
</body>
</html>